<!DOCTYPE html>
<html>
<title>Survey</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" type="text/css" href="ChatBoxStyleSheet.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<meta name="viewport" content="width=device-width, initial-scale=1">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
$(document).ready(function(){   
    
    $("#btn1").click(function(){
        $("#msgbox").append("<p>Hey</p>").fadeIn();
    });
    $("#btn2").click(function(){
        $("ol").append("<li>Appended item</li>");
    });
});
</script>



<body background='hero-psychology-in-education-1600.png'>



<div class="w3-half" style="margin-top: 1%;min-height: 500px">

  <div id= "msgbox" style="margin-top: 0; transition-delay: 2s;" ></div>

  <div id="show_on_invite" style="margin-left: 2% ;bottom: 1px;display: none">
        <button id = "one_press19" onclick="handle_invite('Accepted')" class="button"><span>Yes, my pleasure</span></button>
        <button id = "one_press20" onclick="handle_invite('Declined')" class="button"><span>No, thanks</span></button>
  </div>

</div>

<div class="w3-half" style="margin-left: 2%;">


  <p style="border-top: solid;margin: 0%"></p>

  <span id="canyoubemypartner" style=": bottom;"></span>

  <button id = "one_press" onclick="topFunction(participantA)" class="button sendButton">Send</button>


</div>


<div class="w3-half" style="margin-left: 2%;">
  
      <button id = "one_press1" onclick="canIInviteyou(participantA)" class="button"><span>User A </span></button>
      <button id = "one_press2" onclick="canIInviteyou(participantB)" class="button"><span>User B</span></button>
      <button id = "one_press3" onclick="canIInviteyou(participantC)" class="button"><span>User C </span></button>
      <button id = "one_press4" onclick="canIInviteyou(participantD)" class="button"><span>User D </span></button>
      <button id = "one_press5" onclick="canIInviteyou(participantE)" class="button" style="display: none"><span>User E </span></button>
      <button id = "one_press6" onclick="canIInviteyou(participantF)" class="button" style="display: none"><span>User F </span></button>
      <button id = "one_press7" onclick="canIInviteyou(participantG)" class="button" style="display: none"><span>User G </span></button>
      <button id = "one_press8" onclick="canIInviteyou(participantH)" class="button" style="display: none"><span>User H </span></button>
      <button id = "one_press9" onclick="canIInviteyou(participantI)" class="button" style="display: none"><span>User I </span></button>
      <button id = "one_press10" onclick="canIInviteyou(participantJ)" class="button"style="display: none"><span>User J </span></button>


  <h3>Feel Free to invite someone!</h2>
</div>
<div class="w3-quarter" style="margin-top: 8%; margin-left: 5%;">
      <br>
      <br>
</div>




<script type="text/javascript">
var dateTime = new Date();
var starttime = dateTime.getTime(); 
var participantA = "Alex";
var participantB = "Riley";
var participantC = "Taylor";
var participantD = "Jordan";
var participantE = "Charlie";
var participantF = "Morgan";
var participantG = "Drew";
var participantH = "Frankie";
var participantI = "Peyton";
var participantJ = "Frances";
var invitecheck = false;
var invited_participant = "";
var invitationquestion = "Can I invite you to be my partner, ___ ?"
var secondaryinvitationquestion = "Can I invite you to be my partner, "
var selected_person_to_invite = "";
var times = "<strong>  <br />Please remember or write the down all digits and letter<br /><strong> ";
var times_check = " <br />Please remember or write the down all digits and letter<br />";
window.onload = function(){
    document.getElementById('one_press1').innerHTML = participantA;
    document.getElementById('one_press2').innerHTML = participantB;
    document.getElementById('one_press3').innerHTML = participantC;
    document.getElementById('one_press4').innerHTML = participantD;
    document.getElementById('one_press5').innerHTML = participantE;
    document.getElementById('one_press6').innerHTML = participantF;
    document.getElementById('one_press7').innerHTML = participantG;
    document.getElementById('one_press8').innerHTML = participantH;
    document.getElementById('one_press9').innerHTML = participantI;
    document.getElementById('one_press10').innerHTML = participantJ;
    document.getElementById('canyoubemypartner').innerHTML = invitationquestion;
};
function canIInviteyou(name){
    document.getElementById('canyoubemypartner').innerHTML = secondaryinvitationquestion + '<span style=": bottom;border: solid;">'         + name + '</span>'  + " ?"  ;
    selected_person_to_invite = name;
}
function topFunction(name) {
    $("#msgbox").append(" <h6 class='containerchatBox darker' style='color: black;margin:8px;font-size:60%'>You Invited " + selected_person_to_invite+ "</h6>");
    document.getElementById("one_press1").disabled = true;
    document.getElementById("one_press2").disabled = true;
    document.getElementById("one_press3").disabled = true;
    document.getElementById("one_press4").disabled = true;
    document.getElementById("one_press5").disabled = true;
    document.getElementById("one_press6").disabled = true;
    document.getElementById("one_press7").disabled = true;
    document.getElementById("one_press8").disabled = true;
    document.getElementById("one_press9").disabled = true;
    document.getElementById("one_press10").disabled = true;
    setTimeout(handle_invite_accept, 5000, name);
    invitecheck = true;
    invited_participant = name;
    console.log(invitecheck);
    var datetime1 = new Date();
    var endtime = datetime1.getTime();
    var time_diff = endtime - starttime;
    times += time_diff + " N<br />";
} 
function invite_self(name) {
  if (invitecheck==false){
      $("#msgbox").append("<h6 class='containerchatBox darker' style='color: black;margin:8px;font-size:60%'> "+ name +" Invited You to the room</h6>");
      document.getElementById("show_on_invite").style.display = "block";
  }
}
function handle_invite(event){
    $("#msgbox").append("<h6 class='containerchatBox darker' style='color: black;margin:8px;font-size:60%'> You "+ event +" the Invite</h6>");
    document.getElementById("one_press19").disabled = true;
    document.getElementById("one_press20").disabled = true;
    var datetime1 = new Date();
    var endtime = datetime1.getTime();
    var time_diff = endtime - starttime;
    if (event == "Accepted"){
      times += time_diff + " X<br />";
    }else {
      times += time_diff + " Y<br />";
    }
}
function handle_invite_accept(user){
    $("#msgbox").append("<h6 class='containerchatBox darker' style='color: black;margin:8px;font-size:60%'>"+ user +" Accepted Your Invite</h6>");
}
function OtherPeople(from, to) {
    $("#msgbox").append("<h6 class='containerchatBox' style='color: black;margin:8px;font-size:60%'> " + from + " Invites " + to + " to make a group</h6>");
}
function OtherPeopleAccept(from, to) {
    if (invited_participant == from){
      OtherPeopleDecline(from,to);  
    }else {
      $("#msgbox").append("<h6 class='containerchatBox' style='color: black;margin:8px;font-size:60%'> " + from + " accepts " + to + "'s' invatation</h6>");
    }
}
function OtherPeopleDecline(from, to) {
    $("#msgbox").append("<h6 class='containerchatBox' style='color: black;margin:8px;font-size:60%'> " + from + " declines " + to + "'s' invatation</h6>");
}
function sedlyf(){
  alert('Nobody has invited you yet!')
}
function addParticipant(nameOfParticipant,ID){
  $("#msgbox").append("<h6 class='containerchatBox' style='color: black;margin:8px;font-size:60%'> " + nameOfParticipant +  " joined the room </h6>");
  document.getElementById(ID).style = "block";
}
// setTimeout(addParticipant, 3000, participantF,"one_press6");
setTimeout(addParticipant, 3000, participantE,"one_press5");
setTimeout(OtherPeople, 5000, participantC ,participantF); 
setTimeout(OtherPeopleAccept, 7000 , participantF, participantC)
setTimeout(addParticipant, 10000, participantG,"one_press7");
setTimeout(addParticipant, 11000, participantI,"one_press9");
setTimeout(OtherPeople, 13000, participantG, participantA); 
setTimeout(OtherPeopleDecline, 16000, participantA, participantG); 
setTimeout(addParticipant, 20000, participantJ,"one_press10");
setTimeout(addParticipant, 22000, participantH,"one_press8");
setTimeout(OtherPeople, 26000, participantB, participantI); 
setTimeout(OtherPeopleAccept, 30000 , participantI, participantB)
setTimeout(OtherPeople, 33000, participantE, participantJ); 
setTimeout(OtherPeopleDecline, 35000, participantJ, participantE); 
setTimeout(addParticipant, 37000, participantD,"one_press4");
setTimeout(OtherPeople, 44000, participantD, participantH);
setTimeout(OtherPeopleAccept, 48000 , participantH, participantD)
setTimeout(invite_self, 55000, participantA);
setTimeout(Save, 70000);
function Save(){
  if (times == times_check){
    times += " M<br />"
  }
//  window.location = 'save_page.html';
  let newWindow = window.open("about:blank", "_self", ""); 
  let textBlock = times;
  let starBlock = "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title></title>\r\n<meta charset='UTF-8'>\r\n<meta name='viewport' content='width=device-width, initial-scale=1'>\r\n<link rel='stylesheet' href='https://www.w3schools.com/w3css/4/w3.css'>\r\n<link rel='tylesheet' href='ttps://fonts.googleapis.com/css?family=Raleway'> \r\n <meta name='viewport' content='width=device-width, initial-scale=1'>\r\n</head>\r\n<body  background='greenBack3.jpg' style='min-height: 100%;background-position: center;background-size: cover;'> \r\n <h6 class='containerchatBox' style='color: black;margin:8px;font-size:150%'>" ;


  let endBlock = "</h6>\r\n </body>\r\n</html>";

  newWindow.document.write(starBlock + times + endBlock);
}
</script>

</body>
</html>